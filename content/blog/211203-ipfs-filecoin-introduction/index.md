---
title: IPFS와 파일코인을 간단하게 소개합니다
description: 웹3의 대표적인 파일저장방식인 IPFS와 Filecoin에 대해 알아봅시다.
date: "2021-12-03T20:30:00Z"
author: 코인별
tags:
- 코인
- $FIL
- 공부하기
---

이더리움 관련 교육행사, 해커톤 등을 개최하는 [ETH Global](https://ethglobal.com/)에서 [유튜브 채널](https://www.youtube.com/c/ETHGlobal)에 좋은 영상들을 많이 올려줍니다. 시간이 날 때 조금씩 챙겨보고 있는데 아무래도 개발자들을 대상으로 한 경우가 많아서 접근성이 조금 떨어지는 것은 사실입니다. 얼마 전에 [파일코인과 IPFS에 관해 짧고 쉽게 설명하는 영상](https://www.youtube.com/watch?v=wmuzky88xXs)이 올라와서 이 영상을 간단하게 요약, 정리하고 제 생각을 덧붙여봤습니다. 요즘 NFT가 계속 화제를 모으고 있는데 여기에 빠지지 않고 등장하는 것이 바로 블록체인을 사용해서 파일을 저장하는 방식인 IPFS이죠. 평소에 IPFS가 뭔지, 파일코인이 뭔지 궁금하셨던 분들에게 조금이나마 도움이 되었으면 합니다.

현재 시점에서 웹사이트를 호스팅하거나 웹 비즈니스를 운영하는 가장 대표적인 방식은 서버를 제공하는 업체에 사용료(용량과 트래픽 등을 고려)를 지불하는 방식입니다. 아마존의 AWS가 이런 방식으로 엄청난 성공을 거두었죠. 이렇게 중앙화된 업체의 서버를 사용하면 편리함도 많습니다. 중앙통제를 거쳐서 효율성도 높아졌구요. 하지만 하나의 업체에 나의 중요한 데이터를 모두 맡겨야한다는 것이 탐탁치 않은 경우도 있을 수 있구요, 이 업체가 일방적으로 서비스를 거부한다거나 시스템 오류가 생길 수 있는 가능성도 있습니다. 우리는 요즘 웹2.0에서 웹3로 옮겨가는 이야기를 많이 하고 있습니다. 현재의 중앙화된 시스템에서 미래에는 탈중앙화, 분산화된 네트워크로 넘어간다는 것입니다. 분산화 네트워크를 사용하면 한 국가의 정부가 일방적으로 서비스를 중단시킨다던지 하는 검열에서 좀 더 자유롭고, 플랫폼들 간의 이동에서도 더 자유로워질 수 있고, 중간 매개자를 통해서 검증할 필요가 없어진다는 장점이 있습니다. 메타버스, NFT, 게임 등 모든 웹3의 가능성에 있어서 파일을 저장하는 방식은 아주 기초적이고 핵심적인 기술이라고 할 수 있습니다. 아무리 탈중앙화, 분산화를 이뤘다고한들 중요한 데이터를 지금과 다름없이 구글, 아마존에만 의존한다면 웹3가 큰 의미가 없을 거라고 생각합니다. 과연 IPFS와 파일코인이 핵심적인 역할을 하게 될지, 다른 프로젝트가 먼저 더 나은 방식으로 대중화를 이뤄낼지, 여러 프로토콜이 함께 성장해갈지는 계속 지켜봐야겠습니다.

## IPFS
IPFS는 Inter-Planetary File System의 약자입니다. 이 시스템에서는 구글이나 아마존과 같은 중앙서버가 존재하지 않습니다. 일반적으로 어떤 웹사이트를 방문하면 중앙의 서버에서 이미지나 비디오를 다운로드받아서 우리의 컴퓨터 화면에 표시가 됩니다. 각각의 파일에는 고유의 주소값이 있습니다. 예를 들어, https://website.com/video.mp4 이런 식으로 각각의 파일마다 주소가 있습니다. 그럼 우리의 컴퓨터가 해당하는 주소의 파일을 호스팅하는 서버에서 파일을 다운로드받게 됩니다. 하지만 IPFS는 분산화 시스템이기 때문에 어디에 파일이 저장되어있는지는 크게 중요하지 않습니다. 그래서 location identifier 대신에 content identifier(CID)를 사용합니다. CID를 사용하면 파일이 어디에 저장되어있던지 상관없이 고유 아이디를 사용해서 분산화 네트워크 서버에서 파일을 불러오게 됩니다. 이 분산화 서버는 그때그때 상황에 따라서 바뀔 수 있겠지요. 여기에서 암호화 기술이 사용됩니다. 내가 요청하는 파일이 정말로 그 파일이 맞는지 중간에서 누군가 가로채서 바꿔치기를 하는 것인지 확인할 필요가 있겠지요. 특히 블록체인과 같은 탈중앙화, 분산화 네트워크에서는 누구든지 네트워크에 참여가 가능하기 때문에 검증이 필수입니다. 이 검증을 위해서 암호화 해시 함수가 사용됩니다. 모든 파일에는 지문과 같은 고유의 아이디가 부여되어서 진위여부를 확인할 수 있습니다.

## 폴더
파일 뿐만 아니라 폴더에도 똑같은 개념을 적용시킬 수 있습니다. 재미있는 것은 하나의 폴더에 들어있는 파일을 다른 폴더로 복사한다고 할 때, 파일이 양 폴더 모두에 존재하는 것처럼 보이지만, 두 파일은 같은 파일이기 때문에 같은 CID를 사용합니다. 하지만 이제는 폴더가 담고 있는 파일들이 바뀌었기 때문에 폴더의 CID는 지금 담고 있는 파일들을 반영하도록 업데이트되어야 합니다. 이제 새로운 CID를 통해서 현재의 폴더구조를 나타낼 수 있고, 이전 폴더의 CID는 변경 전의 구조를 나타내게 됩니다. 따라서 모든 변화과정이 기록(log)으로 남게 되고, 비트코인의 장부가 한 번 기록이 되면 바뀔 수 없고 추가만 가능한 것(append-only log)처럼, IPFS에서도 CID를 통해 검증이 가능해집니다.

## The Peer
IPFS에는 중앙서버가 없기 때문에 개인들 간의 컴퓨터가 연결되어서 네트워크를 이룹니다. 구글이나 아마존처럼 이 시스템을 통제하는 중앙의 주체가 없습니다. 대신에 모두 같은 규약을 따라서 행동하고 같은 서비스를 제공합니다. 구체적으로는 DHT(Distributed Hash Table)등의 방식을 통해서 새로운 파일을 네트워크에 추가하고 서로 새로운 컨텐트를 발견하는 등의 작업이 이루어집니다. 이런 부분은 꽤나 기술적으로 들어가는 부분이라서 생략하겠습니다.

## 노드
누구든지 IPFS 네트워크에 노드로 참여해서 파일을 저장하고 배포하는 역할을 할 수 있습니다. 인기가 많은 파일들은 더 많은 노드들이 저장하게 되고 데이터 손실의 위험도 적어지게 됩니다. 네트워크의 몇몇 컴퓨터가 고장난다고 해도 같은 파일을 저장하는 다른 컴퓨터가 더 있다면 파일을 잃어버릴 위험이 적어지겠지요. 또, 중요한 파일이 있다면 추가비용을 내고 네트워크에서 내 파일이 사라지지 않도록 할 수 있습니다. 이걸 피닝(pinning)이라고 하는데 [Pinata](https://www.pinata.cloud/) 등이 대표적인 서비스입니다.

## Filecoin
파일코인은 IPFS와 호환이 가능한 탈중앙화 스토리지 네트워크입니다. 여러 웹3 네트워크와 함께 사용이 가능합니다. 파일코인에서 생성하는 CID는 IPFS와 호환이 가능합니다. IPFS는 빠르고 유연하게 파일을 불러오는데 사용할 수 있고, Filecoin은 데이터를 지속적으로 저장하고 검증하는데 유용하기에 함께 사용하기에 적합합니다.

사실 사용자의 입장에서는 파일코인을 직접 사용할 일은 없을 것입니다. 그보다는 Web2와 Web3(NFT, dapps)를 다루는 프론트엔드 레이어를 주로 사용하게 되겠지만, 그 밑을 살펴보면 스마트 컨트렉트 등을 지원하는 로직 레이어, 파일을 보관하는 스토리지 헬퍼 (예: web3.storage, nft.storage) 레이어가 있고, 더 아래에는 파일코인과 IPFS 노드들이 네트워크를 운영하고 있습니다.

## IPFS와 Filecoin을 사용한 프로젝트들 아이디어
저는 IPFS나 기타 분산화 네트워크가 웹스토리지 방식을 모두 대체할 것이라고 생각하지는 않습니다. 각각의 장단점이 뚜렷하니까요. 영상에서는 IPFS와 Filecoin이 유용하게 사용될 수 있는 몇가지 아이디어를 소개했습니다. 그 중 몇개만 살펴보겠습니다.

- 소셜미디어: 페이스북과 같이 중앙화된 소셜미디어의 문제점들이 끊임없이 드러나고 있습니다. 미국 대통령 선거개입, 가짜뉴스들에 대한 필터링 실패, 사용자의 권리 침해 등의 사례들이 이미 잘 알려져있습니다. 분산화 네트워크를 사용하여 중앙화된 업체에 의존하지 않고 피어들 간에 직접 컨텐트를 공유할 수 있는 시스템을 만들 수 있습니다.
- 탈중앙화 소셜미디어 표준 만들기: 얼마 전까지만 해도 트위터와 인스타그램 간에는 사진공유도 제대로 되지 않았었습니다. 사실 이건 기술적인 이유가 아니라 단지 두 회사가 사이가 좋지 않았기 때문이었지요. 업체 간의 쓸데없는 다툼으로 사용자들만 불편을 겪었던 예입니다. 소셜미디어 컨텐트의 표준을 만든다면 사진, 댓글 등을 같은 규약을 사용해서 다양한 탈중앙화 소셜미디어 플랫폼에서 같은 컨텐트를 사용할 수 있게 될 것입니다.
- 비디오 스트리밍: 현재처럼 몇개의 거대 플랫폼(유튜브 등)을 사용한 비디오 공유와 수익화 모델을 대체해서 피어들의 직접 연결을 통해 비디오를 배포하고 크립토 코인을 사용한 수익화 모델을 만들어낼 수 있습니다.
- 개발 라이브러리 호스팅: 웹개발자들이 자바스크립트 라이브러리들을 직접 호스팅하지 않고 구글 등이 호스팅하는 서비스에서 링크를 거는 경우가 많은데 탈중앙화를 통해 독립적인 호스팅도 가능해질 것입니다.
- 메타버스: 특정업체가 통제할 수 없는 분산화된 메타버스도 가능해지겠지요.

## Dapp 개발을 위한 스토리지 헬퍼
직접 IPFS/Filecoin 노드를 운영할 수도 있지만, 그 위에서 작동하는 헬퍼를 사용하는 것이 개발을 빠르고 쉽게 할 수 있는 좋은 방법이 될 수 있습니다. IPFS 프로토콜로 파일을 불러낼 수 있고, Filecoin을 사용해서 파일을 지속적으로 저장할 수 있습니다.

- [Fleek IPFS Hosting](https://fleek.co/hosting): 기존의 모던 웹 프레임워크를 사용할 수 있습니다. (Docker, Gatsby, React, Webflow, Hugo, Next, Jekyll, etc.) 깃허브 리포와 연결해서 쉽게 디플로이 가능합니다.
- [Web3.storage](https://web3.storage): 일반적인 목적으로 사용가능한 Filecoin/IPFS 스토리지입니다.
- [NFT.storage](https://nft.storage): 무료로 사용가능한 NFT 파일 저장소입니다.
- [Powergate](https://docs.textile.io/powergate)

## 기타 링크

- https://blog.ipfs.io
- https://twitter.com/IPFS
- https://www.reddit.com/r/ipfs
- Learn: https://tinyurl.com/learn-ipfs-filecoin
- Forums: https://discuss.ipfs.io/
- Chat: https://docs.ipfs.io/community/chat